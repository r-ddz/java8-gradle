# 虽然配置类可以完全替代YAML，但有时还是想保留YAML配置
# 这里展示对应的YAML配置（仅支持的功能）
spring:
  task:
    execution:
      # 线程名前缀 - 便于日志追踪和监控
      thread-name-prefix: "app-async-"
      pool:
        # 核心线程数 - 线程池维护的最小线程数
        core-size: 8
        # 最大线程数 - 当队列满时，最多可以创建的线程数
        max-size: 50
        # 队列容量 - 任务队列的大小
        queue-capacity: 50
        # 线程空闲时间 - 非核心线程空闲多久后被回收
        keep-alive: 60s
        # 是否允许核心线程超时 - 核心线程空闲时是否可以被回收
        allow-core-thread-timeout: false
      
      shutdown:
        # 是否等待任务完成关闭 - 优雅关闭 对应setWaitForTasksToCompleteOnShutdown
        await-termination: true  #
        # 等待关闭的最大时间 对应setAwaitTerminationSeconds
        await-termination-period: 30s
      
      # 注意：YAML无法配置以下内容：
      # 1. 拒绝策略
      # 2. 线程工厂
      # 3. 任务装饰器
      # 4. 自定义异常处理器
      # 5. 多个线程池的复杂配置